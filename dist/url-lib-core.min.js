/**
  @preserve Copyright (c) 2016 Ben Ilegbodu.
  Licensed under the MIT License (MIT).
  See: https://github.com/benmvp/url-lib.
  Adapted from the Uize.Url module, a part of the UIZE JavaScript Framework.
*/
!function(r){"function"==typeof define&&define.amd?define(r):"object"==typeof module&&module.exports?module.exports=r():window.urllib=r()}(function(){"use strict";function r(r){return null!=r?decodeURIComponent(r):""}function n(r){return encodeURIComponent(r+"")}function e(r){for(var n,e,t=new Object(r),u=0;++u<arguments.length;)if(n=arguments[u])for(e in n)l.call(n,e)&&(t[e]=n[e]);return t}function t(r,n){var e=(r||"")+"",t=e.indexOf("?");return 0>t&&!n&&(t=e.length),{urlPath:e.slice(0,t),queryString:e.slice(t+1)}}function u(r){var t=r;return Array.isArray(t)&&(t=t.length<2?t[0]:e.apply(null,t)),t=t||c,Object.keys(t).reduce(function(r,e){var u,o=r;return e&&(u=t[e],null!=u&&o.push(n(e)+"="+n(u))),o},[]).join("&")}function o(n,e){var u=t(n,e!==!1).queryString||"";return u.split("&").reduce(function(n,e){var t=n,u=e.split("="),o=u[0];return o&&(t[r(o)]=r(u[1])),t},{})}function i(r,n){var e,i,c,l=r,f=n;return Array.isArray(l)&&(f=l.slice(1).concat(f||a),l=l[0]),e=o(l,!1),i=Array.isArray(f)?f:[f],f=[e].concat(i),c=u(f),t(l).urlPath+(c?"?":"")+c}var c={},a=[],l=c.hasOwnProperty;return{parseQuery:o,formatUrl:i,formatQuery:u}});